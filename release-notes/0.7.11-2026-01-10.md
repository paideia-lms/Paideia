# Release Notes - Paideia LMS v0.7.11

**Release Date:** January 10, 2026  
**Version:** 0.7.11  
**Type**: Bug Fix  
**Impact**: Medium - Fixes critical issue preventing sandbox database reset from working correctly  
**Changelog**: N/A

## Overview

Paideia LMS v0.7.11 is a bug fix release that resolves a critical issue with the sandbox database reset functionality. This release ensures that sandbox mode correctly resets the database and seeds fresh data on startup, fixing a transaction context issue that was preventing the reset from working properly.

---

## Bug Fixes

### ðŸ”§ Sandbox Reset Transaction Context

**Bug Fix**: Fixed sandbox database reset failing to properly detect empty database state, causing seed process to be skipped incorrectly.

**What Was Wrong**:
- Sandbox reset was deleting all users within a database transaction
- User count check was running outside the transaction context
- Seed process incorrectly detected existing users and skipped seeding
- Database remained empty after reset, causing startup issues

**What Changed**:
- User count check now runs within the same transaction context as deletions
- Seed process correctly detects empty database state after reset
- Sandbox reset now properly seeds fresh data after deletion

**Technical Details**:
- Fixed `tryRunSeed` to pass transaction context (`req`) to `tryGetUserCount`
- Ensures user count check sees the deleted state within the transaction
- Seed process now correctly runs after all data is deleted

**Impact**:
- âœ… Sandbox mode now correctly resets and seeds database on startup
- âœ… No more false "users exist" detection after deletion
- âœ… Fresh seed data is properly loaded after reset
- âœ… Sandbox environment works as intended

---

## Summary

This release fixes a critical bug that prevented sandbox database reset from working correctly:

### Bug Fixes
- âœ… Sandbox reset now correctly detects empty database state
- âœ… Seed process runs properly after database reset
- âœ… Transaction context properly maintained throughout reset process
- âœ… Sandbox mode works correctly on startup

---

## Breaking Changes

### None

This release contains only bug fixes:
- âœ… No API changes
- âœ… No configuration changes required
- âœ… No database migrations needed
- âœ… All existing functionality works exactly as before
- âœ… No user-facing changes

---

## Upgrade Instructions

### From v0.7.10 or Earlier

1. **Upgrade to v0.7.11**:
   ```bash
   git pull origin next  # or your branch
   ```

2. **Install dependencies**:
   ```bash
   bun install
   ```

3. **Start the server**:
   ```bash
   bun run dev
   ```

**No Additional Steps Required**:
- No database migrations needed
- No configuration changes required
- No manual data migration needed
- Everything works automatically after upgrade

**For Sandbox Mode Users**:
- Sandbox reset will now work correctly on startup
- Database will be properly reset and seeded with fresh data
- No manual intervention required

---

## What's Next

This bug fix ensures sandbox mode works correctly, providing a reliable development and testing environment:

- **Reliable Sandbox Reset**: Database reset now works correctly every time
- **Consistent Development Environment**: Fresh seed data ensures consistent testing
- **Better Developer Experience**: No more manual database cleanup needed
- **Continued Improvements**: Ongoing enhancements to sandbox functionality

The fix in this release ensures that sandbox mode provides a reliable, consistent development environment for all users.

---

## Thank You

Thank you for using Paideia LMS. This release fixes a critical issue with sandbox database reset, ensuring that sandbox mode works correctly for development and testing. The upgrade is straightforward and requires no additional steps beyond the standard update process.

For questions, issues, or contributions, please visit our GitHub repository: https://github.com/paideia-lms/paideia

---

## Complete Changelog Reference

This release includes the following bug fix:

### Sandbox Reset Fix
- **Transaction Context**: Fixed user count check to use transaction context
- **Proper Reset**: Sandbox reset now correctly detects empty database
- **Seed Process**: Seed process now runs correctly after database reset
- **Reliable Operation**: Sandbox mode now works consistently on startup

**Previous Release**: See [v0.7.10 Release Notes](./0.7.10-2026-01-09.md) for previous features.
