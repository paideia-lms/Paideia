# Release Notes - Paideia LMS v0.7.0

**Release Date:** November 15, 2025  
**Version:** 0.7.0  
**Type**: Feature Release  
**Impact**: High - Major enhancements to quiz, discussion, and grading features  
**Changelog**: 0049, 0050, 0052, 0053, 0054

## Overview

Paideia LMS v0.7.0 is a feature-focused release that brings significant improvements to quiz management, discussion forums, and grading workflows. This release enhances the student experience with better quiz attempt management, introduces a complete discussion board system, and adds convenient navigation features. Administrators also gain new capabilities for site-wide analytics integration.

---

## Major Features

### üí¨ Discussion Board System

**New Feature**: A complete discussion forum system is now available for course modules, enabling rich student-to-student and student-to-instructor interactions.

**What's New**:
- **Create Discussion Threads**: Students can start new discussion topics with titles and rich text content
- **Reply to Threads**: Students can reply to discussion threads and engage in threaded conversations
- **Nested Comments**: Reply to specific comments to create nested discussion threads, similar to Reddit-style discussions
- **Upvote System**: Students can upvote helpful threads and replies, with real-time vote count updates
- **Thread Sorting**: Sort discussions by most recent, most upvoted, or most active
- **Thread Pinning**: Instructors can pin important threads to keep them at the top
- **Author Profile Links**: Click on any author's name or avatar to quickly view their profile

**User Experience**:
- Clean, intuitive interface for browsing and participating in discussions
- Rich text editor for formatting posts and replies
- Visual feedback for upvoted content
- Easy navigation between thread list and detailed views
- Real-time updates after posting or upvoting

**For Students**:
- Engage in course discussions with peers and instructors
- Ask questions and get help from the community
- Share knowledge and insights
- Identify helpful content through upvotes

**For Instructors**:
- Monitor student engagement and participation
- View all discussion threads and replies in one place
- Pin important announcements or questions
- Track which content is most valuable to students

---

### üìù Enhanced Quiz Management

**Major Improvements**: The quiz system now provides a much better experience for both students and instructors with improved attempt management and time tracking.

**What's New**:
- **Quiz Instructions View**: Students now see quiz instructions, attempt limits, and time limits before starting, preventing accidental timer starts
- **Structured Attempt Workflow**: Clear workflow for starting new attempts or continuing in-progress quizzes
- **Time Limit Enforcement**: Automatic rejection of quiz submissions that exceed the time limit
- **Attempt Tracking**: Clear display of attempt usage (e.g., "1 of 3 attempts used")
- **Resume Capability**: Students can continue in-progress attempts even after navigating away
- **Start Time Display**: See when each quiz attempt was started in the submission history
- **Graded Time Tracking**: Instructors can see when each submission was graded

**User Experience**:
- **For Students**:
  - Always see instructions before starting, preventing premature timer activation
  - Clear messaging about attempt limits and remaining attempts
  - Can resume in-progress attempts with a single click
  - Better visibility into attempt history with start times and submission times
  - Automatic time limit enforcement prevents accidental over-time submissions

- **For Instructors**:
  - Better visibility into student attempt patterns
  - See start times, submission times, and graded times for all attempts
  - View grades directly in submission history (e.g., "78/100")
  - Pre-filled grading forms when editing existing grades
  - Automatic prevention of duplicate attempts

**Grading Improvements**:
- Grades now display directly in submission history with score badges
- Grading forms are pre-filled with existing values when editing
- Clear display of graded time for each submission
- Better organization of submission information

---

### üîó Discussion Author Profile Links

**Enhancement**: Quick access to participant profiles directly from discussion threads.

**What's New**:
- Click on any author's name or avatar in discussion threads to view their profile
- Works for both thread authors and reply authors
- Seamless navigation between discussions and user profiles
- Visual indication that author information is clickable

**User Experience**:
- **For Students**: Quickly learn more about discussion participants without leaving the discussion context
- **For Instructors**: Easy access to student profiles for better engagement tracking and participant identification

---

### üìä Site-Level Analytics Integration

**New Feature**: Administrators can now configure multiple analytics scripts that are automatically injected into all pages.

**What's New**:
- **Multiple Analytics Providers**: Support for popular analytics services including:
  - Umami Analytics
  - Plausible Analytics
  - Google Analytics
  - Fathom Analytics
- **Easy Configuration**: Admin interface for adding, removing, and reordering analytics scripts
- **Automatic Injection**: Scripts are automatically added to all pages without code changes
- **Script Ordering**: Control the load sequence of multiple analytics scripts
- **Security Validation**: Built-in validation prevents malicious script injection

**User Experience**:
- **For Administrators**:
  - Configure analytics from the admin panel (Admin ‚Üí General ‚Üí Analytics ‚Üí Analytics settings)
  - Add multiple analytics providers simultaneously
  - Control script loading order
  - Real-time validation feedback
  - No code changes required

**Security Features**:
- Only external scripts with valid URLs are allowed
- Inline scripts are blocked for security
- Dangerous attributes are automatically filtered
- URL protocol validation (HTTP/HTTPS only)

---

### üîí User Modules Access Control

**Security Enhancement**: User modules functionality is now restricted to authorized users only.

**What's New**:
- Students can no longer access the user modules feature
- Only administrators, content managers, teachers, managers, and teaching assistants can access user modules
- "Modules" menu item is hidden from student menus
- Direct URL access is blocked for unauthorized users

**User Experience**:
- **For Students**: Cleaner interface without access to features they don't need
- **For Other Users**: No change - all authorized users continue to have full access

---

## Improvements and Enhancements

### Quiz System
- Better attempt management prevents duplicate attempts
- Time limit enforcement ensures fair quiz conditions
- Improved submission history with start times, submission times, and grades
- Pre-filled grading forms for faster instructor workflow

### Discussion System
- Reddit-style nested reply structure
- Real-time upvote updates
- Thread sorting and organization
- Author profile integration

### Navigation
- Quick access to user profiles from discussions
- Better context switching between features

---

## Migration Guide

### Database Migration

This release includes database migrations for the analytics settings feature.

**Migration Steps**:
1. Upgrade to v0.7.0
2. The migration will be automatically applied when you start the server, or you can manually run:
   ```bash
   paideia migrate up
   ```
3. The migration will:
   - Create `analytics_settings` table for site-wide analytics configuration
   - Create related tables for script configurations

**What the Migration Does**:
- Creates analytics settings global collection
- Sets up tables for managing multiple analytics scripts
- All changes are backward compatible

**After Migration**:
- ‚úÖ Server starts successfully
- ‚úÖ All existing functionality continues to work
- ‚úÖ Analytics settings default to empty (no scripts configured)
- ‚úÖ Discussion features are immediately available
- ‚úÖ Quiz improvements are automatically active

---

## Breaking Changes

None. All changes are backward compatible.

---

## Dependencies

### New Dependencies
- `pretty-ms@^9.3.0`: For human-readable time formatting in quiz instructions

---

## Testing

### Discussion System
- ‚úÖ Thread creation and display
- ‚úÖ Reply functionality (thread-level and nested)
- ‚úÖ Upvote system with real-time updates
- ‚úÖ Thread sorting and navigation
- ‚úÖ Author profile links

### Quiz System
- ‚úÖ Quiz instructions view
- ‚úÖ Attempt management and tracking
- ‚úÖ Time limit enforcement
- ‚úÖ Resume in-progress attempts
- ‚úÖ Submission history improvements
- ‚úÖ Grading form pre-filling

### Analytics Integration
- ‚úÖ Script configuration and management
- ‚úÖ Multiple provider support
- ‚úÖ Script injection and loading
- ‚úÖ Security validation

### Access Control
- ‚úÖ User modules access restrictions
- ‚úÖ Permission enforcement

---

## Upgrade Instructions

### From v0.6.1 or Earlier

1. **Check migration status** (optional):
   ```bash
   paideia migrate status
   ```

2. **Upgrade to v0.7.0**:
   ```bash
   git pull origin main  # or your branch
   ```

3. **Start the server** (migration will be applied automatically):
   ```bash
   paideia start
   ```
   
   Or manually apply the migration first:
   ```bash
   paideia migrate up
   paideia start
   ```

4. **Configure Analytics** (optional):
   - Navigate to Admin ‚Üí General ‚Üí Analytics ‚Üí Analytics settings
   - Add your analytics scripts
   - Save changes

---

## What's Next

This release focuses on enhancing the core learning experience with better quiz management and a complete discussion system. Future releases will continue to build on these foundations with additional features like:

- Discussion thread editing and deletion
- Enhanced quiz reporting and analytics
- Real-time discussion notifications
- Advanced discussion search and filtering
- Thread following and mention systems

---

## Thank You

Thank you for using Paideia LMS. This release brings significant improvements to the quiz and discussion features, making the platform more engaging and easier to use for both students and instructors.

For questions, issues, or contributions, please visit our GitHub repository: https://github.com/paideia-lms/paideia

---

## Complete Changelog Reference

This release includes changes from changelogs 0049, 0050, 0052, 0053, and 0054:

### Site-Level Analytics Scripts (0049)
- **0049** - Analytics Configuration: Admin interface for managing multiple analytics scripts
- **0049** - Multiple Provider Support: Umami, Plausible, Google Analytics, Fathom
- **0049** - Automatic Injection: Scripts automatically added to all pages
- **0049** - Security Validation: Built-in protection against malicious scripts

### Quiz Attempt Management (0050)
- **0050** - Quiz Instructions View: Clear instructions before starting
- **0050** - Attempt Tracking: Better visibility into attempt usage
- **0050** - Time Limit Enforcement: Automatic rejection of over-time submissions
- **0050** - Resume Capability: Continue in-progress attempts
- **0050** - Submission History: Start times, submission times, and grades
- **0050** - Grading Improvements: Pre-filled forms and grade display

### Discussion Thread Management (0052)
- **0052** - Thread Creation: Students can create discussion topics
- **0052** - Reply System: Thread-level and nested replies
- **0052** - Upvote System: Real-time vote counts
- **0052** - Thread Sorting: Recent, most upvoted, most active
- **0052** - Rich Text Editor: Formatting support for posts

### User Modules Access Restriction (0053)
- **0053** - Access Control: Students restricted from user modules
- **0053** - Permission Enforcement: Proper access control implementation

### Discussion Author Profile Links (0054)
- **0054** - Author Links: Clickable names and avatars
- **0054** - Profile Navigation: Quick access to participant profiles

**Full Changelog Details**: See changelog files:
- `changelogs/0049-2025-11-13-site-level-analytics-scripts.md`
- `changelogs/0050-2025-11-14-quiz-attempt-management-and-instructions-view.md`
- `changelogs/0052-2025-11-14-discussion-thread-management-and-composable-components.md`
- `changelogs/0053-2025-11-15-user-modules-access-restriction.md`
- `changelogs/0054-2025-11-15-discussion-author-profile-links.md`

**Previous Release**: See [v0.6.1 Release Notes](./0.6.1-2025-11-13.md) for previous features.

